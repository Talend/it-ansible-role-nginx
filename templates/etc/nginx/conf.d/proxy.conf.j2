proxy_redirect          off;
proxy_buffering         off;
proxy_set_header        Host $http_host;
proxy_set_header        X-Real-IP       $remote_addr;
proxy_set_header        X-Forwarded-Host $host;
proxy_set_header        X-Forwarded-Server $host;
proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_http_version      1.1;
real_ip_header X-Forwarded-For;
real_ip_recursive on;

client_max_body_size    {{ nginx_proxy_file_size }};
client_body_buffer_size 128k;
client_header_buffer_size 64k;
proxy_connect_timeout   {{ nginx_proxy_timeout }};
proxy_send_timeout      {{ nginx_proxy_timeout }};
proxy_read_timeout      {{ nginx_proxy_timeout }};
proxy_buffer_size   16k;
proxy_buffers       32   16k;
proxy_busy_buffers_size 64k;

proxy_pass_header Access-Control-Allow-Origin;
proxy_pass_header Access-Control-Allow-Methods;
proxy_hide_header Access-Control-Allow-Headers;
add_header Access-Control-Allow-Headers 'X-Requested-With, Content-Type';
add_header Access-Control-Allow-Credentials true;
